{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../utils/config\";\nimport ExtraTv from \"../components/TvSection/ExtraTv\";\nimport Link from \"next/link\";\nexport default function onlinetv({\n  data\n}) {\n  const {\n    0: count,\n    1: setCount\n  } = useState(1); // const videoJsOptions = {\n  //   autoplay: false,\n  //   playbackRates: [0.5, 1, 1.25, 1.5, 2],\n  //   fill: true,\n  //   responsive: true,\n  //   controls: true,\n  //   sources: [\n  //     {\n  //       src: \"https://ktvhdnpicc6670.ekantipur.com/ktv_abr/hd/playlist.m3u8\",\n  //       type: \"application/x-mpegURL\",\n  //     },\n  //   ],\n  // };\n\n  const params = \"samachar-tv\";\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"tv-page\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"live-tv-container container\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"section-title text-center\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"section-img\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"/img/samachar tv.png\",\n              className: \"img-fluid\",\n              alt: \"\"\n            })\n          })\n        })\n      }), data && data.data[0].facebook_code ? /*#__PURE__*/_jsx(\"iframe\", {\n        src: `https://www.facebook.com/plugins/video.php?href=https://www.facebook.com/facebook/videos/${data.data[0].facebook_code}/&show_text=false`,\n        width: \"100%\",\n        height: \"100%\",\n        style: {\n          border: \"none\",\n          overflow: \"hidden\"\n        },\n        scrolling: \"no\",\n        frameBorder: \"0\",\n        allowTransparency: \"true\",\n        allow: \"encrypted-media\",\n        allowFullScreen: \"true\"\n      }) : data.data[0].youtube_code ? /*#__PURE__*/_jsx(\"iframe\", {\n        width: \"100%\",\n        height: \"100%\",\n        src: `https://www.youtube.com/embed/${data.data[0].youtube_code}`,\n        frameBorder: \"0\",\n        allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true\n      }) : null, /*#__PURE__*/_jsx(Link, {\n        href: `/story/${data.data[0].post_id}/${data.data[0].date_slug}`,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"title\",\n          children: data.data[0].post_title\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"tv-video-wrapper\",\n        children: Array.apply(null, {\n          length: count\n        }).map((number, index) => /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(ExtraTv, {\n            params: params,\n            pageCount: index\n          })\n        }, index))\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"load-more\",\n        children: /*#__PURE__*/_jsx(\"span\", {\n          onClick: () => setCount(count + 1),\n          children: \"\\u0925\\u092A \\u0915\\u093E\\u0930\\u094D\\u092F\\u0915\\u094D\\u0930\\u092E\"\n        })\n      })\n    })]\n  });\n}\nexport async function getStaticProps(context) {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  let data = \"\";\n  let navData = \"\";\n  await axios.get(`${baseUrl}/wp-json/wp/v2/category/content?category_slug='samachar-tv'&offset=0&page_post=1`, {\n    cancelToken: source.token\n  }).then(res => data = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n  await axios.get(`${baseUrl}/wp-json/wp/v2/nav/menu`, {\n    cancelToken: source.token\n  }).then(res => navData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n\n  if (!data && !navData) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      data,\n      navData\n    },\n    revalidate: 1 // will be passed to the page component as props\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}