{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { baseUrl } from \"../../../utils/config\";\nimport ExtraSearch from \"../../../components/Search/ExtraSearch\";\nexport default function SearchPage({\n  tagData,\n  params\n}) {\n  const {\n    0: count,\n    1: setCount\n  } = useState(0);\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: \"Loading...\"\n    });\n  }\n\n  console.log(tagData, \"tagdata\");\n  useEffect(() => {\n    setCount(1);\n  }, [params]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container\",\n    children: [params && /*#__PURE__*/_jsx(\"div\", {\n      className: \"section-title text-center\",\n      children: /*#__PURE__*/_jsxs(\"a\", {\n        href: \"\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"section-img\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/img/icon.png\",\n            className: \"img-fluid\",\n            alt: \"\"\n          })\n        }), /*#__PURE__*/_jsx(\"h1\", {\n          children: params.search\n        })]\n      })\n    }), Array.apply(null, {\n      length: count\n    }).map((number, index) => /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(ExtraSearch, {\n        params: params,\n        pageCount: index\n      })\n    }, index)), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"load-more\",\n        children: /*#__PURE__*/_jsx(\"span\", {\n          onClick: () => setCount(count + 1),\n          children: \"\\u0925\\u092A \\u0938\\u092E\\u093E\\u091A\\u093E\\u0930\"\n        })\n      })\n    })]\n  });\n}\nexport async function getServerSideProps({\n  params\n}) {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  let tagData = \"\";\n  let navData = \"\";\n  await axios.get(`${baseUrl}/wp-json/wp/v2/search/content?search_term=${params.search}`, {\n    cancelToken: source.token\n  }).then(res => tagData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n  await axios.get(`${baseUrl}/wp-json/wp/v2/nav/menu`, {\n    cancelToken: source.token\n  }).then(res => navData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n\n  if (!tagData && !navData) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      tagData,\n      navData,\n      params\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}