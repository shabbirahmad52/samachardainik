{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { baseUrl } from \"../../../utils/config\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport ErrorPage from \"next/error\";\nimport { useRouter } from \"next/router\";\nimport { FacebookShareButton, FacebookIcon, TwitterShareButton, TwitterIcon, ViberShareButton, ViberIcon, WhatsappShareButton, WhatsappIcon, FacebookMessengerShareButton, FacebookMessengerIcon } from \"react-share\";\nimport { FacebookShareCount, FacebookMessengerShareCount, ViberShareCount, WhatsappShareCount, TwitterShareCount } from \"react-share\";\nimport Income from \"../../../components/Income/Income\";\nimport ImageWrap from \"../../../components/Image/ImageWrap\";\nexport default function SinglePage({\n  singleData,\n  params\n}) {\n  const router = useRouter();\n  const {\n    0: ads,\n    1: setAds\n  } = useState();\n  const scriptSection = useRef(null); // const share = () => {\n  //   const script = document.createElement(\"script\");\n  //   const src = document.createAttribute(\"src\");\n  //   src.value =\n  //     \"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-601ae5eb5dee334c\";\n  //   const attribute = document.createAttribute(\"type\");\n  //   attribute.value = \"text/javascript\";\n  //   script.setAttributeNode(src);\n  //   script.setAttributeNode(attribute);\n  //   scriptSection.current.appendChild(script);\n  // };\n\n  useEffect(() => {\n    // share();\n    if (window.FB) {\n      FB.XFBML.parse();\n    }\n\n    let source = axios.CancelToken.source();\n\n    const loadData = async () => {\n      try {\n        const response = axios.get(`${baseUrl}/wp-json/wp/v2/ads/content`, {\n          cancelToken: source.token\n        });\n        setAds((await response).data);\n      } catch (error) {\n        if (!axios.isCancel(error)) {\n          throw error;\n        }\n      }\n\n      return () => {\n        source.cancel();\n      };\n    };\n\n    loadData();\n  }, []);\n\n  if (!router.isFallback && params.category != \"story\") {\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Head, {\n        children: /*#__PURE__*/_jsx(\"meta\", {\n          name: \"robots\",\n          content: \"noindex\"\n        })\n      }), /*#__PURE__*/_jsx(ErrorPage, {\n        statusCode: 404\n      })]\n    });\n  }\n\n  return singleData.data && /*#__PURE__*/_jsxs(\"section\", {\n    className: \"single-page\",\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: singleData.data.post_title\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:title\",\n        content: singleData.data.post_title\n      }, \"title\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:description\",\n        content: singleData.data.post_excerpt && singleData.data.post_excerpt\n      }, \"description\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image\",\n        content: singleData.data.post_image && singleData.data.post_image\n      }, \"image\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:url\",\n        content: singleData.data.full_url && singleData.data.full_url\n      }, \"url\"), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:title\",\n        content: singleData.data.post_title\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:description\",\n        content: singleData.data.post_excerpt && singleData.data.post_excerpt\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: singleData.data.post_image && singleData.data.post_image\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:card\",\n        content: \"summary_large_image\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"fb:app_id\",\n        content: \"4054021217944040\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"twitter:site\",\n        content: \"@samachardainik\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:site_name\",\n        content: \"Samachardainik\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image:width\",\n        content: \"1700\"\n      }, \"facebookwidth\"), /*#__PURE__*/_jsx(\"meta\", {\n        property: \"og:image:height\",\n        content: \"800\"\n      }, \"facebookheight\"), /*#__PURE__*/_jsx(\"script\", {\n        defer: true,\n        crossOrigin: \"anonymous\",\n        src: \"https://connect.facebook.net/en_GB/all.js#xfbml=1&version=v9.0&appId=4054021217944040&autoLogAppEvents=1\",\n        nonce: \"C2JHajcm\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"single-page-category-time\",\n        children: /*#__PURE__*/_jsxs(\"ul\", {\n          children: [singleData.data.post_category && singleData.data.post_category.category_name && /*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"post_category\",\n              children: [\"Category:\", /*#__PURE__*/_jsx(Link, {\n                href: `/${singleData.data.post_category.category_slug}`,\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: singleData.data.post_category.category_name\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"li\", {\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"post_date\",\n              children: [/*#__PURE__*/_jsx(\"i\", {\n                className: \"fa fa-clock-o\"\n              }), \" \", singleData.data.post_date]\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"single-page-title-wrap\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"single-page-title\",\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            children: singleData.data.post_title\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"single-page-subtitle\",\n          children: /*#__PURE__*/_jsx(\"h1\", {\n            children: singleData.data.post_excerpt\n          })\n        })]\n      }), ads && ads.single_page_feature_image_bottom_ads && /*#__PURE__*/_jsx(Income, {\n        props: ads.single_page_feature_image_bottom_ads\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"single-page-content-wrap\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-9\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"single-page-share\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"content-author\",\n                children: singleData.data.post_author && /*#__PURE__*/_jsx(Link, {\n                  href: `/authors/${singleData.data.post_author.author_nicename}`,\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"author-image\",\n                      children: singleData.data.post_author.author_image && /*#__PURE__*/_jsx(\"img\", {\n                        src: singleData.data.post_author.author_image\n                      })\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: \"author-name\",\n                      children: singleData.data.post_author.author_name\n                    })]\n                  })\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"content-share\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"total-share\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    children: singleData.data.share_count && singleData.data.share_count\n                  }), \" \", /*#__PURE__*/_jsx(\"span\", {\n                    children: \"Share\"\n                  })]\n                }), /*#__PURE__*/_jsx(FacebookShareCount, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: shareCount => /*#__PURE__*/_jsx(\"span\", {\n                    className: \"myShareCountWrapper\",\n                    children: shareCount\n                  })\n                }), /*#__PURE__*/_jsx(FacebookShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(FacebookIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(TwitterShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(TwitterIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(FacebookMessengerShareButton, {\n                  appId: \"4054021217944040\",\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(FacebookMessengerIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(ViberShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(ViberIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(WhatsappShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(WhatsappIcon, {\n                    size: 32\n                  })\n                })]\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"tv-video-container\",\n              children: singleData.data.facebook_code ? /*#__PURE__*/_jsx(\"iframe\", {\n                src: `https://www.facebook.com/plugins/video.php?href=https://www.facebook.com/facebook/videos/${singleData.data.facebook_code}/&show_text=false`,\n                width: \"100%\",\n                height: \"100%\",\n                style: {\n                  border: \"none\",\n                  overflow: \"hidden\"\n                },\n                scrolling: \"no\",\n                frameBorder: \"0\",\n                allowTransparency: \"true\",\n                allow: \"encrypted-media\",\n                allowFullScreen: \"true\"\n              }) : singleData.data.youtube_code ? /*#__PURE__*/_jsx(\"iframe\", {\n                width: \"100%\",\n                height: \"100%\",\n                src: `https://www.youtube.com/embed/${singleData.data.youtube_code}`,\n                frameBorder: \"0\",\n                allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n                allowFullScreen: true\n              }) : singleData.data.has_image ? /*#__PURE__*/_jsx(\"div\", {\n                className: \"single-page-feature-image\",\n                children: singleData.data.post_image && /*#__PURE__*/_jsx(\"img\", {\n                  src: singleData.data.post_image,\n                  title: singleData.data.post_title,\n                  alt: singleData.data.post_title\n                })\n              }) : null\n            }), singleData.data && singleData.data.audio_file && /*#__PURE__*/_jsx(\"div\", {\n              className: \"radio-section-wrap\",\n              children: /*#__PURE__*/_jsxs(\"audio\", {\n                controls: true,\n                children: [/*#__PURE__*/_jsx(\"source\", {\n                  src: singleData.data.audio_file,\n                  type: \"audio/mpeg\"\n                }), \"Your browser does not support the audio element.\"]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"single-content-area\",\n              dangerouslySetInnerHTML: {\n                __html: singleData.data.post_content\n              }\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"single-page-share share-change\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"full-post-date\",\n                children: singleData.data.post_full_date && singleData.data.post_full_date\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"content-share\",\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"total-share\",\n                  children: [/*#__PURE__*/_jsx(\"div\", {\n                    children: singleData.data.share_count && singleData.data.share_count\n                  }), \" \", /*#__PURE__*/_jsx(\"span\", {\n                    children: \"Share\"\n                  })]\n                }), /*#__PURE__*/_jsx(FacebookShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(FacebookIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(TwitterShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(TwitterIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(FacebookMessengerShareButton, {\n                  appId: \"4054021217944040\",\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(FacebookMessengerIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(ViberShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(ViberIcon, {\n                    size: 32\n                  })\n                }), /*#__PURE__*/_jsx(WhatsappShareButton, {\n                  url: singleData.data.full_url && singleData.data.full_url,\n                  children: /*#__PURE__*/_jsx(WhatsappIcon, {\n                    size: 32\n                  })\n                })]\n              })]\n            }), singleData.data.tags && /*#__PURE__*/_jsx(\"div\", {\n              className: \"tag-section\",\n              children: /*#__PURE__*/_jsx(\"ul\", {\n                children: singleData.data.tags.map((tag, index) => /*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(Link, {\n                    href: `/tags/${tag.tag_id}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      children: `#${tag.tag_name}`\n                    })\n                  })\n                }, tag.tag_id))\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"single-comment\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"fb-comments\",\n                \"data-href\": singleData.data.full_url && singleData.data.full_url,\n                \"data-width\": \"100%\",\n                \"data-numposts\": \"5\"\n              })\n            }), singleData.data.related_news && /*#__PURE__*/_jsxs(\"div\", {\n              className: \"single-more-news\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"single-newslist-title\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsx(\"h1\", {\n                    children: \"\\u0925\\u092A \\u0938\\u092E\\u093E\\u091A\\u093E\\u0930\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"row\",\n                children: singleData.data.related_news && singleData.data.related_news.map((news, index) => /*#__PURE__*/_jsx(\"div\", {\n                  className: \"col-md-4\",\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    className: \"side-wrapper\",\n                    children: /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"side-item\",\n                      children: [news.post_image && /*#__PURE__*/_jsx(ImageWrap, {\n                        image: news.post_image,\n                        alt: news.post_title,\n                        height: 220,\n                        width: 360,\n                        myhref: `/story/${news.post_id}/${news.date_slug}`\n                      }), /*#__PURE__*/_jsx(\"h3\", {\n                        className: \"title\",\n                        children: /*#__PURE__*/_jsx(Link, {\n                          href: `/story/${news.post_id}/${news.date_slug}`,\n                          children: /*#__PURE__*/_jsx(\"a\", {\n                            children: news.post_title\n                          })\n                        })\n                      })]\n                    })\n                  })\n                }, index))\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-3\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"single-side-news\",\n              children: [singleData.data.popular_news && /*#__PURE__*/_jsxs(\"div\", {\n                className: \"single-popular\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"single-newslist-title\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"h1\", {\n                      children: \"\\u0932\\u094B\\u0915\\u092A\\u094D\\u0930\\u093F\\u092F\"\n                    })\n                  })\n                }), singleData.data.popular_news.map((news, index) => /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"second-wrapper\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: `/story/${news.post_id}/${news.date_slug}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: \"img-wrap\",\n                      children: /*#__PURE__*/_jsx(\"div\", {\n                        className: \"img-container\",\n                        children: news.post_image && /*#__PURE__*/_jsx(\"img\", {\n                          src: news.post_image,\n                          className: \"img-fluid\",\n                          alt: news.post_title,\n                          title: news.post_title\n                        })\n                      })\n                    })\n                  }), /*#__PURE__*/_jsx(\"h2\", {\n                    className: \"title\",\n                    children: /*#__PURE__*/_jsx(Link, {\n                      href: `/story/${news.post_id}/${news.date_slug}`,\n                      children: /*#__PURE__*/_jsx(\"a\", {\n                        children: news.post_title\n                      })\n                    })\n                  })]\n                }, index))]\n              }), singleData.data.latest_news && /*#__PURE__*/_jsxs(\"div\", {\n                className: \"single-popular\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"single-newslist-title\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"h1\", {\n                      children: \"\\u092D\\u0930\\u094D\\u0916\\u0930\\u0948\"\n                    })\n                  })\n                }), singleData.data.latest_news.map((news, index) => /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"second-wrapper\",\n                  children: [/*#__PURE__*/_jsx(Link, {\n                    href: `/story/${news.post_id}/${news.date_slug}`,\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: \"img-wrap\",\n                      children: /*#__PURE__*/_jsx(\"div\", {\n                        className: \"img-container\",\n                        children: news.post_image && /*#__PURE__*/_jsx(\"img\", {\n                          src: news.post_image,\n                          className: \"img-fluid\",\n                          alt: news.post_title,\n                          title: news.post_title\n                        })\n                      })\n                    })\n                  }), /*#__PURE__*/_jsx(\"h2\", {\n                    className: \"title\",\n                    children: /*#__PURE__*/_jsx(Link, {\n                      href: `/story/${news.post_id}/${news.date_slug}`,\n                      children: /*#__PURE__*/_jsx(\"a\", {\n                        children: news.post_title\n                      })\n                    })\n                  })]\n                }, index)), ads && ads.single_page_side_ads && /*#__PURE__*/_jsx(Income, {\n                  props: ads.single_page_side_ads\n                })]\n              })]\n            })\n          })]\n        })\n      })]\n    })]\n  });\n} // export async function getStaticPaths() {\n//   return {\n//     paths: [],\n//     fallback: \"blocking\",\n//   };\n// }\n\nexport async function getServerSideProps({\n  params\n}) {\n  // const params = context.params;\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  let singleData = \"\";\n  let navData = \"\";\n  await axios.get(`${baseUrl}/wp-json/wp/v2/single/content?post_id=${params.single[0]}`, {\n    cancelToken: source.token\n  }).then(res => singleData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n  await axios.get(`${baseUrl}/wp-json/wp/v2/nav/menu`, {\n    cancelToken: source.token\n  }).then(res => navData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  }); // let fullUrl = req.headers.host;\n  // const res = await fetch(`${baseUrl}/wp-json/wp/v2/single/content?post_id=${params.single}`,\n  // \t{\n  // \t\tmethod: \"GET\",\n  // \t\theaders: {\n  // \t\t\t\"User-Agent\":\n  // \t\t\t\t\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.89 Safari/537.36\",\n  // \t\t\tAccept: \"application/json; charset=UTF-8\",\n  // \t\t},\n  // \t})\n  // const singleData = await res.json()\n\n  if (!singleData && !navData) {\n    return {\n      notFound: true\n    };\n  }\n\n  if (!singleData.status) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      singleData,\n      navData,\n      params\n    } // revalidate: 1,\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}