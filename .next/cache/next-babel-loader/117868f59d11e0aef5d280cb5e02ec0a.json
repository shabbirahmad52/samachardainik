{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from \"react\";\nimport Banner from \"../components/Banner/Banner\";\nimport Business from \"../components/Business/Business\";\nimport Recent from \"../components/Recent/Recent\";\nimport { baseUrl } from \"../utils/config\";\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport ExtraCategory from \"../components/Category/ExtraCategory\";\nexport default function TourismPage({\n  data,\n  params\n}) {\n  const {\n    0: pageCount,\n    1: setpageCount\n  } = useState(0);\n  const router = useRouter();\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: \"Loading...\"\n    });\n  }\n\n  useEffect(() => {\n    setpageCount(1);\n  }, [params]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [data.flash_news && data.flash_news.data && /*#__PURE__*/_jsx(Banner, {\n      props: data.flash_news\n    }), data && /*#__PURE__*/_jsx(Recent, {\n      props: data,\n      title: data.category_name\n    }), Array.apply(null, {\n      length: pageCount\n    }).map((number, index) => /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(ExtraCategory, {\n        params: params,\n        pageCount: index + 2\n      })\n    }, index)), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"load-more\",\n        children: /*#__PURE__*/_jsx(\"span\", {\n          onClick: () => setpageCount(pageCount + 1),\n          children: \"\\u0925\\u092A \\u0938\\u092E\\u093E\\u091A\\u093E\\u0930\"\n        })\n      })\n    })]\n  });\n}\nexport async function getStaticProps() {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  let params = {\n    category: \"tourism\"\n  };\n  let data = \"\";\n  let navData = \"\";\n  await axios.get(`${baseUrl}/wp-json/wp/v2/category/content?category_slug=${params.category}&paged=1&page_post=15`, {\n    cancelToken: source.token\n  }).then(res => data = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n  await axios.get(`${baseUrl}/wp-json/wp/v2/nav/menu`, {\n    cancelToken: source.token\n  }).then(res => navData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n\n  if (!data && !navData) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      data,\n      navData,\n      params\n    },\n    revalidate: 1 // will be passed to the page component as props\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}