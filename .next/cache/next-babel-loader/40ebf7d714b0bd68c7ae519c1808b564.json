{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport ErrorPage from \"next/error\";\nimport { useRouter } from \"next/router\";\nimport Category from \"../../components/Category/Category\";\nimport ExtraCategory from \"../../components/Category/ExtraCategory\";\nimport { baseUrl } from \"../../utils/config\";\nimport axios from \"axios\";\nimport Banner from \"../../components/Banner/Banner\";\nexport default function CategoryPage({\n  data,\n  params\n}) {\n  const {\n    0: count,\n    1: setCount\n  } = useState(1);\n  const router = useRouter();\n\n  if (!router.isFallback && !(params === null || params === void 0 ? void 0 : params.category)) {\n    return /*#__PURE__*/_jsx(ErrorPage, {\n      statusCode: 404\n    });\n  }\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: \"Loading...\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"\",\n    children: [data.flash_news && data.flash_news != \"\" && /*#__PURE__*/_jsx(Banner, {\n      props: data.flash_news\n    }), data && /*#__PURE__*/_jsx(Category, {\n      props: data,\n      title: data.category_name\n    }), Array.apply(null, {\n      length: count\n    }).map((number, index) => /*#__PURE__*/_jsx(\"div\", {\n      children: /*#__PURE__*/_jsx(ExtraCategory, {\n        params: params,\n        pageCount: index\n      })\n    }, index)), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"load-more\",\n        children: /*#__PURE__*/_jsx(\"span\", {\n          onClick: () => setCount(count + 1),\n          children: \"\\u0925\\u092A \\u0938\\u092E\\u093E\\u091A\\u093E\\u0930\"\n        })\n      })\n    })]\n  });\n}\nexport async function getStaticPaths() {\n  const paths = [{\n    params: {\n      category: \"society\"\n    }\n  }];\n  return {\n    paths,\n    fallback: \"blocking\"\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  let data = \"\";\n  let navData = \"\";\n  await axios.get(`${baseUrl}/wp-json/wp/v2/category/content?category_slug=${params.category}&offset=0&page_post=5`, {\n    cancelToken: source.token\n  }).then(res => data = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n  await axios.get(`${baseUrl}/wp-json/wp/v2/nav/menu`, {\n    cancelToken: source.token\n  }).then(res => navData = res.data).catch(function (thrown) {\n    if (axios.isCancel(thrown)) {\n      console.log(\"Request canceled\", thrown.message);\n    } else {// handle error\n    }\n  });\n\n  if (!data && !navData) {\n    return {\n      notFound: true\n    };\n  }\n\n  if (!data.status) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: {\n      data,\n      navData,\n      params\n    },\n    revalidate: 1 // will be passed to the page component as props\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}